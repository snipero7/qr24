@import "tailwindcss";

@font-face {
  font-family: "Cairo";
  src: url("/fonts/Cairo-Regular.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Cairo";
  src: url("/fonts/Cairo-SemiBold.ttf") format("truetype");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

:root {
  /* Softer page background to distinguish cards */
  --background: #F7F8FA; /* light slate/neutral */
  --foreground: #0B1220;
  --color-primary: #1E3A8A; /* indigo-900 */
  --color-primary-700:#1D4ED8;/* indigo-700 */
  --color-accent:  #38BDF8;   /* sky-400 */
  /* Semantic accent colors */
  --color-success: #16A34A;  /* emerald-600 */
  --color-warning: #D97706;  /* amber-600 */
  --color-danger:  #DC2626;  /* red-600 */
  --color-info:    #0EA5E9;  /* sky-600 */
  --surface: #FFFFFF;
  --text: #0B1220;
  --muted: #6B7280;
  --border: rgba(0,0,0,0.1);
  /* Status badge colors */
  --status-NEW-bg: #DBEAFE;         --status-NEW-fg: #1E3A8A;
  --status-IN_PROGRESS-bg: #FEF3C7; --status-IN_PROGRESS-fg: #B45309;
  --status-WAITING_PARTS-bg: #EDE9FE; --status-WAITING_PARTS-fg: #6D28D9;
  --status-READY-bg: #D1FAE5;       --status-READY-fg: #065F46;
  --status-DELIVERED-bg: #E5E7EB;   --status-DELIVERED-fg: #374151;
  --status-CANCELED-bg: #FEE2E2;    --status-CANCELED-fg: #991B1B;
  /* Debt status colors */
  --status-OPEN-bg: #E0F2FE;        --status-OPEN-fg: #075985;   /* sky */
  --status-PARTIAL-bg: #FEF9C3;     --status-PARTIAL-fg: #854D0E; /* yellow */
  --status-PAID-bg: #DCFCE7;        --status-PAID-fg: #166534;   /* green */
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@font-face {
  font-family: "Rubik";
  src: url("/fonts/Rubik-Regular.ttf") format("truetype");
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: "Rubik";
  src: url("/fonts/Rubik-SemiBold.ttf") format("truetype");
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

.font-cairo {
  font-family: "Cairo", var(--font-sans);
}

.font-rubik {
  font-family: "Rubik", var(--font-sans);
}

/* Dark mode via attribute overrides (ThemeToggle) */
html[data-theme='dark'], html.dark {
  --background: #0b0f1a; /* slightly bluish dark for contrast */
  --foreground: #FFFFFF;
  --surface: #0F172A; /* slate-900 */
  --border: rgba(255,255,255,0.12);
}
html[data-theme='light'], html.light {
  --background: #ffffff;
  --foreground: #171717;
}

/* Fallback to prefers-color-scheme if no explicit theme */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
  line-height: 1.6;
}

h1 { @apply text-2xl font-bold; }
h2 { @apply text-lg font-semibold; }
.container { @apply mx-auto max-w-7xl p-6; }
.card { @apply rounded-2xl border border-black/10 dark:border-white/10 bg-[var(--surface)] p-6 shadow-sm transition-shadow duration-200; }
.card.interactive { @apply hover:shadow-lg hover:border-black/15 dark:hover:border-white/20 transition-transform; transform: translateY(0); }
.card.interactive:hover { transform: translateY(-4px); }
.card.tonal, .card-tonal { 
  /* Subtle primary-tinted surface */
  background: color-mix(in oklab, var(--surface) 94%, var(--color-primary) 6%);
}
html[data-theme='dark'] .card.tonal, html.dark .card.tonal, html[data-theme='dark'] .card-tonal, html.dark .card-tonal {
  background: color-mix(in oklab, var(--surface) 90%, var(--color-primary) 10%);
}
.card.tonal.interactive:hover, .card-tonal.interactive:hover {
  background: color-mix(in oklab, var(--surface) 92%, var(--color-primary) 8%);
}
/* Tonal variants (success / warning / danger / info) */
.card.tonal--success, .card-tonal--success {
  background: color-mix(in oklab, var(--surface) 94%, var(--color-success) 6%);
}
.card.tonal--warning, .card-tonal--warning {
  background: color-mix(in oklab, var(--surface) 94%, var(--color-warning) 6%);
}
.card.tonal--danger, .card-tonal--danger {
  background: color-mix(in oklab, var(--surface) 94%, var(--color-danger) 6%);
}
.card.tonal--info, .card-tonal--info {
  background: color-mix(in oklab, var(--surface) 94%, var(--color-info) 6%);
}
html[data-theme='dark'] .card.tonal--success, html.dark .card.tonal--success, html[data-theme='dark'] .card-tonal--success, html.dark .card-tonal--success {
  background: color-mix(in oklab, var(--surface) 88%, var(--color-success) 12%);
}
html[data-theme='dark'] .card.tonal--warning, html.dark .card.tonal--warning, html[data-theme='dark'] .card-tonal--warning, html.dark .card-tonal--warning {
  background: color-mix(in oklab, var(--surface) 88%, var(--color-warning) 12%);
}
html[data-theme='dark'] .card.tonal--danger, html.dark .card.tonal--danger, html[data-theme='dark'] .card-tonal--danger, html.dark .card-tonal--danger {
  background: color-mix(in oklab, var(--surface) 88%, var(--color-danger) 12%);
}
html[data-theme='dark'] .card.tonal--info, html.dark .card.tonal--info, html[data-theme='dark'] .card-tonal--info, html.dark .card-tonal--info {
  background: color-mix(in oklab, var(--surface) 88%, var(--color-info) 12%);
}
.card.tonal--success.interactive:hover, .card-tonal--success.interactive:hover {
  background: color-mix(in oklab, var(--surface) 92%, var(--color-success) 8%);
}
.card.tonal--warning.interactive:hover, .card-tonal--warning.interactive:hover {
  background: color-mix(in oklab, var(--surface) 92%, var(--color-warning) 8%);
}
.card.tonal--danger.interactive:hover, .card-tonal--danger.interactive:hover {
  background: color-mix(in oklab, var(--surface) 92%, var(--color-danger) 8%);
}
.card.tonal--info.interactive:hover, .card-tonal--info.interactive:hover {
  background: color-mix(in oklab, var(--surface) 92%, var(--color-info) 8%);
}
.card-header { @apply mb-4 flex items-center justify-between; }
.card-title { @apply text-base font-semibold; }
.card-subtitle { @apply text-sm text-[var(--muted)]; }
.card-section { @apply mt-4 pt-4 border-t border-black/5 dark:border-white/10; }
.card-footer { @apply mt-4 pt-4 border-t border-black/5 dark:border-white/10 flex items-center justify-end gap-2; }
.btn-primary { @apply inline-flex items-center justify-center bg-[var(--color-primary)] hover:bg-[var(--color-primary-700)] text-white rounded-lg h-10 px-4 shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-[color:rgb(29_78_216_/_0.5)]; }
.btn-outline { @apply inline-flex items-center justify-center h-10 px-4 rounded-lg border border-black/10 dark:border-white/10 hover:bg-black/5 dark:hover:bg-white/5 transition-colors; }
.input { @apply rounded-lg bg-[var(--surface)] p-2 shadow-sm focus:outline-none focus:ring-2 focus:ring-[color:rgb(29_78_216_/_0.35)]; }

/* Links contrast */
a { @apply text-[var(--color-primary)] hover:text-[var(--color-primary-700)]; }
.focus-ring { @apply focus:ring-2 focus:ring-[color:rgb(30_58_138_/_0.4)]; }

/* Emphasize inputs inside orders action bar to match Debts styling */
.action-bar .input { @apply shadow-sm; }

/* Standard size for icon-only buttons */
.icon-btn { @apply inline-flex items-center justify-center h-12 w-12 sm:h-10 sm:w-10 p-0; }
.icon-ghost {
  @apply inline-flex items-center gap-2 rounded-lg px-3 py-1.5 bg-transparent border border-transparent outline-none text-[var(--color-primary)] hover:text-[var(--color-primary-700)] transition-all;
}
[dir="rtl"] .icon-ghost { flex-direction: row-reverse; }
.icon-ghost::after {
  content: '';
}
.icon-ghost[data-label]::after {
  content: attr(data-label);
  font-size: 0.75rem;
  color: currentColor;
  pointer-events: none;
}
.icon-ghost.no-label::after {
  content: none;
}
.icon-ghost.no-label {
  gap: 0;
  padding-inline: 0.75rem;
  min-width: 2.75rem;
  min-height: 2.75rem;
  justify-content: center;
}
[dir="rtl"] .icon-ghost[data-label]::after {
  margin-inline-end: 0.25rem;
}
[dir="ltr"] .icon-ghost[data-label]::after {
  margin-inline-start: 0.25rem;
}
.icon-ghost-text { @apply inline-flex items-center gap-2 px-3 h-12 sm:h-10 bg-transparent border-0 outline-none text-[var(--color-primary)] hover:text-[var(--color-primary-700)] rounded-xl; }
.icon-ghost svg, .icon-ghost-text svg { width: 24px !important; height: 24px !important; }
.settings-tabs .icon-ghost-text svg { width: 26px !important; height: 26px !important; stroke-width: 1.75 !important; }
.settings-tabs + button.icon-ghost svg { width: 26px !important; height: 26px !important; }

/* Simple keyframe animations used on marketing surfaces */
@keyframes fade-up {
  from { opacity: 0; transform: translateY(18px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes scale-in {
  from { opacity: 0; transform: scale(0.96); }
  to { opacity: 1; transform: scale(1); }
}

.animate-fade-up {
  opacity: 0;
  animation: fade-up 0.7s ease forwards;
}

.animate-scale-in {
  opacity: 0;
  animation: scale-in 0.45s ease forwards;
}

.animate-delay-1 { animation-delay: 0.15s; }
.animate-delay-2 { animation-delay: 0.3s; }
.animate-delay-3 { animation-delay: 0.45s; }
.animate-delay-4 { animation-delay: 0.6s; }

.animation-fill-both { animation-fill-mode: both; }

/* Glassy row hover (shared) */
.orders-table tbody tr.orders-row, .glass-table tbody tr.glass-row { transition: box-shadow 150ms ease; }
.orders-table tbody tr.orders-row:hover, .glass-table tbody tr.glass-row:hover { filter: drop-shadow(0 1px 3px rgba(0,0,0,0.08)); }
.orders-table tbody tr.orders-row > td, .glass-table tbody tr.glass-row > td { transition: background-color 150ms ease, backdrop-filter 150ms ease; }
.orders-table tbody tr.orders-row:hover > td, .glass-table tbody tr.glass-row:hover > td {
  /* Glassy look: translucent surface + subtle inner outline + blur */
  background: rgba(255, 255, 255, 0.55);
  -webkit-backdrop-filter: saturate(160%) blur(6px);
  backdrop-filter: saturate(160%) blur(6px);
}
/* LTR default: round outer edges (left on first, right on last) */
.orders-table tbody tr.orders-row:hover > td:first-child, .glass-table tbody tr.glass-row:hover > td:first-child { border-top-left-radius: 12px; border-bottom-left-radius: 12px; }
.orders-table tbody tr.orders-row:hover > td:last-child,  .glass-table tbody tr.glass-row:hover > td:last-child  { border-top-right-radius: 12px; border-bottom-right-radius: 12px; }
/* RTL override: reverse corners so rounding stays on outer edges */
[dir="rtl"] .orders-table tbody tr.orders-row:hover > td:first-child, [dir="rtl"] .glass-table tbody tr.glass-row:hover > td:first-child { border-top-right-radius: 12px; border-bottom-right-radius: 12px; border-top-left-radius: 0; border-bottom-left-radius: 0; }
[dir="rtl"] .orders-table tbody tr.orders-row:hover > td:last-child,  [dir="rtl"] .glass-table tbody tr.glass-row:hover > td:last-child  { border-top-left-radius: 12px; border-bottom-left-radius: 12px; border-top-right-radius: 0; border-bottom-right-radius: 0; }
html[data-theme='dark'] .orders-table tbody tr.orders-row:hover > td, html.dark .orders-table tbody tr.orders-row:hover > td {
  background: rgba(255, 255, 255, 0.08);
}
html[data-theme='dark'] .glass-table tbody tr.glass-row:hover > td, html.dark .glass-table tbody tr.glass-row:hover > td {
  background: rgba(255, 255, 255, 0.08);
}
/* Avoid default row hover background for glass rows */
.glass-table tbody tr.glass-row:hover, .orders-table tbody tr.orders-row:hover { background: transparent !important; }
